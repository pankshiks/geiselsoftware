<?php

use Drupal\Core\Form\FormStateInterface;

/**
 * Implements hook_field_widget_WIDGET_TYPE_form_alter().
 */
function algolia_places_field_widget_algolia_places_field_widget_form_alter(&$element, FormStateInterface $form_state, $context) {
  // Only attach the JS if a field of this widget type exists.
  $element['#attached']['library'][] = 'algolia_places/algolia_places';
  $element['#attached']['drupalSettings']['algolia_places']['querySelector'] = '.field--widget-algolia-places-field-widget input';
}
